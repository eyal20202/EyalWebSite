import{j as e}from"./jsx-runtime.C9eWo9jt.js";import{r as x}from"./index.B52nOzfP.js";const b="modulepreload",N=function(t){return"/EyalWebSite/"+t},v={},w=function(c,a,j){let u=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");u=Promise.allSettled(a.map(n=>{if(n=N(n),n in v)return;v[n]=!0;const d=n.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${p}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":b,d||(i.as="script"),i.crossOrigin="",i.href=n,s&&i.setAttribute("nonce",s),document.head.appendChild(i),d)return new Promise((f,g)=>{i.addEventListener("load",f),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})}))}function h(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return u.then(l=>{for(const s of l||[])s.status==="rejected"&&h(s.reason);return c().catch(h)})};function _({repo:t}){const c=a=>new Intl.DateTimeFormat("he-IL",{year:"numeric",month:"long"}).format(new Date(a));return e.jsxs("div",{className:"card hover:scale-[1.02] transition-transform duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:e.jsx("a",{href:t.html_url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-300 transition-colors",children:t.name})}),t.language&&e.jsx("span",{className:"px-3 py-1 bg-primary-500/20 border border-primary-500/30 rounded-full text-xs text-primary-200",children:t.language})]}),t.description&&e.jsx("p",{className:"text-gray-300 mb-4 line-clamp-3 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-300",children:[e.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),t.stargazers_count]}),e.jsxs("span",{className:"flex items-center gap-1 text-gray-300",children:[e.jsx("svg",{className:"w-4 h-4 text-primary-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),t.forks_count]})]}),e.jsx("time",{className:"text-gray-400",children:c(t.updated_at)})]}),t.topics.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.topics.slice(0,5).map(a=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs text-primary-200",children:["#",a]},a))}),t.homepage&&e.jsxs("a",{href:t.homepage,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center gap-2 text-primary-300 hover:text-primary-200 transition-colors text-sm font-medium",children:["צפה בפרויקט",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})}function L({username:t="YOUR_GITHUB_USERNAME"}){const[c,a]=x.useState([]),[j,u]=x.useState(!0),[h,l]=x.useState(null),[s,n]=x.useState("all"),[d,p]=x.useState("updated");x.useEffect(()=>{async function r(){try{u(!0),l(null);const o=await(await fetch(`/api/github-repos?username=${t}`)).json();Array.isArray(o)&&o.length>0?(a(o),l(null)):(a([]),l(null))}catch(m){console.error("Error fetching repos:",m),l(null);const{FALLBACK_REPOS:o}=await w(async()=>{const{FALLBACK_REPOS:y}=await import("./github.BNk9oKT8.js");return{FALLBACK_REPOS:y}},[]);a(o)}finally{u(!1)}}t&&t!=="YOUR_GITHUB_USERNAME"?r():(async()=>{try{const{FALLBACK_REPOS:o}=await w(async()=>{const{FALLBACK_REPOS:y}=await import("./github.BNk9oKT8.js");return{FALLBACK_REPOS:y}},[]);a(o)}catch(o){console.error("Error loading fallback repos:",o)}finally{u(!1)}})()},[t]);const i=x.useMemo(()=>Array.from(new Set(c.map(r=>r.language).filter(Boolean))),[c]),f=c.filter(r=>s==="all"?!0:r.language===s).sort((r,m)=>d==="stars"?m.stargazers_count-r.stargazers_count:new Date(m.updated_at).getTime()-new Date(r.updated_at).getTime()),g=e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((r,m)=>e.jsxs("div",{className:"card animate-pulse space-y-4",children:[e.jsx("div",{className:"h-3 w-28 bg-white/10 rounded-full"}),e.jsx("div",{className:"h-6 w-3/4 bg-white/10 rounded-full"}),e.jsx("div",{className:"h-6 w-full bg-white/10 rounded-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"h-6 w-16 bg-white/10 rounded-full"}),e.jsx("span",{className:"h-6 w-12 bg-white/10 rounded-full"})]})]},m))});return j?g:h?e.jsx("div",{className:"glass-panel p-10 text-center text-sm text-red-300",children:h}):c.length===0?e.jsx("div",{className:"glass-panel p-10 text-center text-sm text-gray-300",children:"לא נמצאו פרויקטים להצגה."}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-10 glass-panel border border-white/10 p-6 rounded-3xl space-y-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35rem] text-primary-200",children:"Repos"}),e.jsx("h3",{className:"text-lg font-semibold text-white mt-1",children:"סינון פרויקטים לפי טכנולוגיה"})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsx("button",{onClick:()=>p("updated"),className:`px-3 py-2 rounded-full border border-white/10 transition-colors ${d==="updated"?"bg-primary-500/30 text-primary-100":"text-gray-300 hover:text-primary-100"}`,children:"עדכונים אחרונים"}),e.jsx("button",{onClick:()=>p("stars"),className:`px-3 py-2 rounded-full border border-white/10 transition-colors ${d==="stars"?"bg-brand-500/30 text-primary-100":"text-gray-300 hover:text-primary-100"}`,children:"פופולריות"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full text-sm border border-white/10 transition-colors ${s==="all"?"bg-white/10 text-primary-100":"text-gray-400 hover:text-primary-100"}`,children:"הכל"}),i.map(r=>e.jsx("button",{onClick:()=>n(r??"all"),className:`px-4 py-2 rounded-full text-sm border border-white/10 transition-colors ${s===r?"bg-primary-500/20 text-primary-100":"text-gray-400 hover:text-primary-100"}`,children:r},r))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(r=>e.jsx(_,{repo:r},r.id))}),f.length===0&&e.jsx("div",{className:"glass-panel p-10 text-center text-sm text-gray-300",children:"לא נמצאו פרויקטים עם השפה שנבחרה."})]})}export{L as default};
